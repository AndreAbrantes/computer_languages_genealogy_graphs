digraph G {
    ranksep="1.0 equally";
    nodesep="1.0 equally";
    ratio=auto;
    concentrate=true;
    {
        node [shape=box, fontsize=16];
        /* the time-line graph */
		<%= @main_ranks.join(" -> ") %>
        /* ancestor programs */
        <%= @ancestors_str %>
    }
    { rank = same;
	    <%= escape_list(@recent_languages_filtered) %>
;
    };
    node [shape=box];
    <% @main_ranks_str.each do |group| %>
    { rank = same; <%= group[:year] %>; <%= group[:languages] %> }
    <% end %>
	
	<% @valid_versions.each do |key, value| %>
	subgraph "<%= key %>" { "<%= key %>" -> <%= value[:versions] %> [style=dotted] }
	<% end %>

	<% @valid_influenced.each do |key, value| %>
	"<%= key %>" -> { <%= value[:influenced] %> }
	<% end %>
}
